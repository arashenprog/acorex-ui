<div class="ax-toolbar-menu-container" #container>
  <ul class="root" #root>
    <ng-template #recursiveList let-list>
      <ng-container *ngFor="let item of list">
        <li class="ax-toolbar-menu-item" *ngIf="item.visible!=false" (click)="onItemClick($event, item)" [ngClass]="item.style"
          [class.selected]="item.selected" [title]="item.tooltip">
          <span class="ax-toolbar-menu-item-text">
            <i class="{{ item.icon }} ax-menu-item-icon" *ngIf="item.icon"></i>
            <span *ngIf="item.text">{{ item.text }}</span>
          </span>
          <i class="fas fa-angle-down ax-menu-item-drop-icon" *ngIf="item.items && item.items.length > 0"></i>
          <ul *ngIf="item.items && item.items.length > 0" class="collapsed sub-menu">
            <ng-container *ngTemplateOutlet="
              recursiveList;
              context: { $implicit: item.items }
            "></ng-container>
          </ul>
        </li>
      </ng-container>
    </ng-template>
    <ng-container *ngTemplateOutlet="recursiveList; context: { $implicit: items }"></ng-container>
    <li class="more" #moreLI (click)="onItemClick($event)">
      <i class="fas fa-bars"></i>
      <ul #moreUL class="collapsed sub-menu"></ul>
    </li>
  </ul>
</div>