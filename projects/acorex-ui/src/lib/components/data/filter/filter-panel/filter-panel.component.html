<div class="ax-filter-panel">
    <div class="saved-list" *ngIf="predefinedFilters && predefinedFilters.length" #savedList>
        <div class="group-header">
            <i class="fas fa-filter"></i>
            <span>SAVED FILTERS</span>
        </div>
        <div class="list">
            <ul>
                <li *ngFor="let f of predefinedFilters" [class.selected]="f.selected" (click)="setFilterByName(f.name)">
                    <span><i class="fas fa-check" ></i> {{f.title}}</span>
                </li>
            </ul>
        </div>
    </div>
    <div class="body" #body>
        <ng-container *ngFor="let g of groups">
            <div class="group-header" *ngIf="g.caption">
                <i class="fas fa-caret-square-right"></i>
                <span>{{g.caption}}</span>
            </div>
            <ng-container *ngFor="let c of g.columns">
                <div class="ax-filter-item-header" [style.margin-bottom.px]="c.active ? 0 : 2">
                    <ax-check-box [label]="c.caption" [(value)]="c.active">
                    </ax-check-box>
                </div>
                <div [hidden]="!c.active">
                    <ng-container [ngSwitch]="c.type">
                        <ng-container *ngSwitchCase="'selection'">
                            <ax-filter-column-selection [field]="c.field" [(active)]="c.active" [mode]="c.options.mode"
                                [items]="c.options.items" [dataType]="c.options.dataType">
                            </ax-filter-column-selection>
                        </ng-container>
                        <ng-container *ngSwitchCase="'date'">
                            <ax-filter-column-date [field]="c.field" [(active)]="c.active">
                            </ax-filter-column-date>
                        </ng-container>
                        <ng-container *ngSwitchCase="'number'">
                            <ax-filter-column-number [field]="c.field" [(active)]="c.active">
                            </ax-filter-column-number>
                        </ng-container>
                        <ng-container *ngSwitchDefault>
                            <ax-filter-column-string [field]="c.field" [(active)]="c.active">
                            </ax-filter-column-string>
                        </ng-container>
                    </ng-container>
                </div>
            </ng-container>
        </ng-container>
    </div>
    <div class="footer" #footer>
        <ax-button (onClick)="apply()" type="success">
            <i class="fas fa-filter"></i>
            Apply Filter
        </ax-button>
        <ax-button type="light text-primary" *ngIf="allowSave"  id="btnSave">
            <i class="fas fa-save"></i>
            Save
        </ax-button>
        <ax-button (onClick)="clear();" type="light text-gray">
            <i class="fas fa-eraser"></i>
            Clear
        </ax-button>
        <ax-menu #menu [items]="saveItems" target="#btnSave" direction="vertical" mode="click" floatPlacemnet="top-start" floatAlignment="bottom-start">

        </ax-menu>
    </div>
</div>